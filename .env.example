# =============================================================================
# structure-it Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# All settings have sensible defaults except GOOGLE_API_KEY (required).

# =============================================================================
# API Keys (Required)
# =============================================================================

# Google Gemini API Key
# Get your API key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_api_key_here

# =============================================================================
# Model Configuration (Optional)
# =============================================================================

# Default LLM model for extraction and generation
# STRUCTURE_IT_MODEL=gemini-3-flash-preview

# Generation temperature
# STRUCTURE_IT_TEMPERATURE=1.0

# =============================================================================
# Storage Configuration (Optional)
# =============================================================================

# DuckDB database path
# STRUCTURE_IT_DB_PATH=./data/structure_it.duckdb

# JSON storage base path
# STRUCTURE_IT_JSON_PATH=./data/entities

# =============================================================================
# Scraper Configuration (Optional)
# =============================================================================

# User agent for all scrapers
# STRUCTURE_IT_USER_AGENT=CivicDataBot/1.0 (+https://github.com/fredbliss/structure-it)

# AutoThrottle (adaptive rate limiting)
# Dynamically adjusts delays based on server response times.
# If server is slow/overloaded, delays increase automatically.
# If server is fast, delays decrease (but respect DOWNLOAD_DELAY minimum).
#
# STRUCTURE_IT_AUTOTHROTTLE=true           # Enable adaptive throttling
# STRUCTURE_IT_AUTOTHROTTLE_START=2.0      # Initial delay (seconds) before calibration
# STRUCTURE_IT_AUTOTHROTTLE_MAX=60.0       # Maximum delay cap (won't wait longer than this)

# Randomize download delay (adds jitter to be less robotic)
# When enabled, actual delay is random between 0.5x and 1.5x the configured delay
# STRUCTURE_IT_RANDOMIZE_DELAY=true

# -----------------------------------------------------------------------------
# Scraper Profiles
# -----------------------------------------------------------------------------
# Rate limiting: CONCURRENT=1 means sequential requests, DELAY controls rate.
#
# Quick reference (with CONCURRENT=1):
#   DELAY=30.0  ->  2 requests/min
#   DELAY=15.0  ->  4 requests/min
#   DELAY=10.0  ->  6 requests/min
#   DELAY=6.0   -> 10 requests/min
#   DELAY=2.0   -> 30 requests/min
#
# Conservative profile (AgendaCenter - primary data, be extra polite)
# STRUCTURE_IT_SCRAPER_CONCURRENT_CONSERVATIVE=1
# STRUCTURE_IT_SCRAPER_DELAY_CONSERVATIVE=10.0

# Moderate profile (Bids, Permits, Services - secondary data)
# STRUCTURE_IT_SCRAPER_CONCURRENT_MODERATE=1
# STRUCTURE_IT_SCRAPER_DELAY_MODERATE=2.0
